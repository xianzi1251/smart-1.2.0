<ion-view class="form-view light-bg" title="修改密码" cm-hide-tabs="true">

    <ion-header-bar class="bar-primary">
        <div class="buttons buttons-left">
            <span class="left-buttons">
                <button class="button back-button buttons button-clear button header-item" ng-click="goBack()">
                    <i class="icon ion-ios-arrow-left"></i>
                </button>
            </span>
        </div>
        <h1 class="title">修改密码</h1>
    </ion-header-bar>

    <ion-content>

        <form name="form" ng-submit="modifyPwd.submit()" novalidate>
            <div class="form-content mtx">
                <div class="form-content-row row">
                    <div class="col row-input col-center">
                        <input type="password" placeholder="请输入旧密码"
                            name="originalPassword" ng-model="modifyPwd.originalPassword"
                            ng-minlength="6" ng-maxlength="8" 
                            required />
                    </div>
                </div>
                <div class="form-content-row row">
                    <div class="col row-input col-center">
                        <input type="password" placeholder="请输入6-8位字符新密码"
                            name="newPassword" ng-model="modifyPwd.newPassword"
                            ng-minlength="6" ng-maxlength="8" 
                            required />
                    </div>
                </div>
                <div class="form-content-row row">
                    <div class="col row-input col-center">
                        <input type="password" placeholder="请再次输入6-8位字符新密码"
                            name="newRePassword" ng-model="modifyPwd.newRePassword"
                            ng-minlength="6" ng-maxlength="8" 
                            required />
                    </div>
                </div>
                <div class="form-content-row row">
                    <div class="col row-input col-center">
                        <input type="text" placeholder="请输入图片验证码"
                           name="imageVerifyCode" ng-model="modifyPwd.imageVerifyCode"
                           required />
                    </div>
                    <div class="col col-adaptive form-image-code">
                        <img class="image-verity-code" ng-src="{{modifyPwd.imageVerifyCodeUrl}}"
                            ng-click="modifyPwd.getImageVerifyCodeUrl()" />
                    </div>
                </div>
                <div class="form-content-row row">
                    <div class="col row-input col-center">
                        <input type="text" placeholder="请输入验证码"
                           name="smsVerifyCode" ng-model="modifyPwd.smsVerifyCode"
                           ng-minlength="6" maxlength="6" 
                           required />
                    </div>
                    <div class="col col-adaptive form-code">
                        <button type="button" class="button button-clear"
                            ng-disabled="modifyPwd.timeDown != undefined || form.loginName.$invalid"
                            ng-click="modifyPwd.sendSMSVerifyCode()">
                            {{modifyPwd.sendVerifyCodeText}}
                            <b class="time-down" ng-if="modifyPwd.timeDown != undefined">
                                ({{modifyPwd.timeDown}})
                            </b>
                        </button>
                    </div>
                </div>
                <div class="form-btn">
                    <button type="button" class="button button-block button-primary"
                        ng-click="modifyPwd.submit()"
                        ng-disabled="form.$invalid">提交修改</button>
                </div>
            </div> 
        </form>

    </ion-content>

</iion-view>
